<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ì‹ë‹¨ í”Œë˜ë„ˆ - UI í”„ë¡œí† íƒ€ì…</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700;900&display=swap');

:root {
  --primary: #2E7D32;
  --primary-light: #66BB6A;
  --primary-dark: #1B5E20;
  --accent: #FF8F00;
  --accent-light: #FFB74D;
  --bg: #F5F5F0;
  --surface: #FFFFFF;
  --text: #1A1A1A;
  --text2: #5A5A5A;
  --text3: #9A9A9A;
  --divider: #E8E8E4;
  --kcal-good: #43A047;
  --kcal-warn: #FFA000;
  --kcal-over: #E53935;
  --cat-veg: #66BB6A;
  --cat-meat: #EF5350;
  --cat-fish: #42A5F5;
  --cat-sauce: #FFB300;
  --cat-dairy: #AB47BC;
  --cat-grain: #8D6E63;
  --radius: 16px;
  --shadow: 0 2px 12px rgba(0,0,0,0.08);
  --shadow-lg: 0 8px 32px rgba(0,0,0,0.12);
}

* { margin:0; padding:0; box-sizing:border-box; }

body {
  font-family: 'Noto Sans KR', -apple-system, sans-serif;
  background: #1a1a2e;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 20px;
}

/* â”€â”€ Phone Frame â”€â”€ */
.phone-frame {
  width: 390px;
  height: 844px;
  background: var(--bg);
  border-radius: 44px;
  overflow: hidden;
  position: relative;
  box-shadow: 0 0 0 10px #222, 0 0 0 12px #444, var(--shadow-lg);
}

.phone-frame::before {
  content: '';
  position: absolute;
  top: 0; left: 50%;
  transform: translateX(-50%);
  width: 150px; height: 30px;
  background: #222;
  border-radius: 0 0 20px 20px;
  z-index: 100;
}

/* â”€â”€ Status Bar â”€â”€ */
.status-bar {
  height: 50px;
  background: var(--primary-dark);
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  padding: 0 28px 6px;
  color: rgba(255,255,255,0.8);
  font-size: 13px;
  font-weight: 500;
}

/* â”€â”€ App Bar â”€â”€ */
.app-bar {
  height: 56px;
  background: var(--primary);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 20px;
  font-weight: 700;
  letter-spacing: -0.5px;
  position: relative;
}

.app-bar .settings-btn {
  position: absolute;
  right: 16px;
  background: none;
  border: none;
  color: white;
  font-size: 22px;
  cursor: pointer;
  width: 44px; height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: background 0.2s;
}
.app-bar .settings-btn:hover { background: rgba(255,255,255,0.15); }

/* â”€â”€ Content â”€â”€ */
.content-area {
  height: calc(844px - 50px - 56px - 72px);
  overflow-y: auto;
  overflow-x: hidden;
  scroll-behavior: smooth;
}
.content-area::-webkit-scrollbar { width: 0; }

/* â”€â”€ Bottom Nav â”€â”€ */
.bottom-nav {
  height: 72px;
  background: white;
  display: flex;
  border-top: 1px solid var(--divider);
  position: absolute;
  bottom: 0; left: 0; right: 0;
  padding-bottom: 8px;
}

.nav-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  cursor: pointer;
  transition: all 0.2s;
  border: none;
  background: none;
  color: var(--text3);
  font-family: inherit;
}
.nav-item.active { color: var(--primary); }
.nav-item .nav-icon { font-size: 26px; }
.nav-item .nav-label { font-size: 13px; font-weight: 600; }

/* â”€â”€ Tab screens â”€â”€ */
.tab-screen { display: none; padding: 16px; }
.tab-screen.active { display: block; animation: fadeIn 0.3s ease; }

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* â”€â”€ Date Header â”€â”€ */
.date-header {
  background: linear-gradient(135deg, rgba(46,125,50,0.08), rgba(102,187,106,0.08));
  border: 1px solid rgba(46,125,50,0.15);
  border-radius: var(--radius);
  padding: 14px 18px;
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}
.date-header .icon { font-size: 26px; }
.date-header .text {
  font-size: 19px;
  font-weight: 700;
  color: var(--primary-dark);
  letter-spacing: -0.5px;
}

/* â”€â”€ Kcal Summary â”€â”€ */
.kcal-summary {
  background: white;
  border-radius: var(--radius);
  padding: 18px;
  box-shadow: var(--shadow);
  display: flex;
  align-items: center;
  gap: 14px;
  margin-bottom: 14px;
  animation: slideUp 0.4s ease;
}
.kcal-summary .fire { font-size: 32px; }
.kcal-summary .info { flex: 1; }
.kcal-summary .current {
  font-size: 19px; font-weight: 700;
}
.kcal-summary .target {
  font-size: 15px; color: var(--text2); margin-top: 2px;
}
.kcal-ring {
  width: 60px; height: 60px;
  position: relative;
}
.kcal-ring svg { transform: rotate(-90deg); }
.kcal-ring .pct {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  font-size: 14px; font-weight: 700;
}

/* â”€â”€ Meal Card â”€â”€ */
.meal-card {
  background: white;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 20px;
  margin-bottom: 12px;
  animation: slideUp 0.5s ease;
  transition: transform 0.2s, box-shadow 0.2s;
}
.meal-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}
.meal-card:nth-child(3) { animation-delay: 0.05s; }
.meal-card:nth-child(4) { animation-delay: 0.1s; }
.meal-card:nth-child(5) { animation-delay: 0.15s; }

.meal-label {
  font-size: 15px; color: var(--text2); margin-bottom: 6px; font-weight: 500;
}
.meal-title {
  font-size: 21px; font-weight: 700; color: var(--text);
  letter-spacing: -0.5px; margin-bottom: 10px;
}
.meal-meta {
  display: flex; gap: 16px; margin-bottom: 16px;
  font-size: 15px; color: var(--text2);
}
.meal-meta span { display: flex; align-items: center; gap: 4px; }
.meal-btns { display: flex; gap: 8px; }
.meal-btns button {
  flex: 1;
  height: 48px;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  font-family: inherit;
  transition: all 0.2s;
}
.btn-outline {
  background: white;
  border: 2px solid var(--primary);
  color: var(--primary);
}
.btn-outline:hover { background: rgba(46,125,50,0.06); }
.btn-secondary {
  background: white;
  border: 2px solid var(--divider);
  color: var(--text2);
}
.btn-secondary:hover { background: #f5f5f5; }

/* â”€â”€ Weekly Screen â”€â”€ */
.week-header {
  background: linear-gradient(135deg, rgba(46,125,50,0.06), rgba(102,187,106,0.06));
  border-radius: var(--radius);
  padding: 16px;
  display: flex; align-items: center; gap: 12px;
  margin-bottom: 14px;
}
.week-header .icon { font-size: 26px; }
.week-header .title { font-size: 17px; font-weight: 700; }
.week-header .sub { font-size: 14px; color: var(--text2); margin-top: 2px; }

.day-card {
  background: white;
  border-radius: 14px;
  box-shadow: var(--shadow);
  margin-bottom: 10px;
  overflow: hidden;
  animation: slideUp 0.4s ease;
}
.day-card.today { border: 2px solid var(--primary); }

.day-header {
  display: flex; align-items: center; gap: 10px;
  padding: 14px 16px 8px;
}
.day-badge {
  padding: 5px 12px;
  border-radius: 8px;
  font-size: 14px; font-weight: 700;
}
.day-badge.weekday { background: #eee; color: var(--text); }
.day-badge.weekend { background: rgba(255,143,0,0.15); color: var(--accent); }
.day-badge.today-badge { background: var(--primary); color: white; }
.day-today-label { font-size: 14px; color: var(--primary); font-weight: 700; }
.day-kcal { margin-left: auto; font-size: 13px; color: var(--text3); }

.day-meals { padding: 4px 16px 14px; }
.day-meal-row {
  display: flex; align-items: center; gap: 8px;
  padding: 7px 0;
  font-size: 15px;
  cursor: pointer;
  transition: background 0.15s;
  border-radius: 8px;
  padding-left: 4px; padding-right: 4px;
}
.day-meal-row:hover { background: rgba(0,0,0,0.03); }
.day-meal-icon { font-size: 18px; width: 24px; text-align: center; }
.day-meal-type { color: var(--text3); width: 36px; font-size: 14px; }
.day-meal-name { flex: 1; font-weight: 500; }
.day-meal-kcal { color: var(--text3); font-size: 13px; }
.day-meal-swap {
  background: none; border: none; cursor: pointer; color: var(--text3);
  width: 32px; height: 32px; display: flex; align-items: center; justify-content: center;
  border-radius: 50%; font-size: 16px;
  transition: all 0.2s;
}
.day-meal-swap:hover { background: #eee; color: var(--primary); }

/* â”€â”€ Shopping Screen â”€â”€ */
.shop-summary {
  display: flex; align-items: center; gap: 12px;
  padding: 14px 16px;
  background: linear-gradient(135deg, rgba(46,125,50,0.06), rgba(102,187,106,0.06));
  border-radius: var(--radius);
  margin-bottom: 10px;
}
.shop-summary .icon { font-size: 26px; }
.shop-summary .text { font-size: 17px; font-weight: 700; flex: 1; }
.shop-summary .toggle-btn {
  font-size: 13px; color: var(--primary); background: none;
  border: 1px solid var(--primary); padding: 6px 12px;
  border-radius: 8px; cursor: pointer; font-family: inherit; font-weight: 500;
}

.shop-tabs {
  display: flex; gap: 6px; overflow-x: auto; padding-bottom: 10px;
  margin-bottom: 8px;
}
.shop-tabs::-webkit-scrollbar { display: none; }
.shop-tab {
  padding: 8px 14px;
  border-radius: 20px;
  font-size: 14px; font-weight: 600;
  border: none; cursor: pointer;
  white-space: nowrap;
  background: #eee; color: var(--text2);
  font-family: inherit;
  transition: all 0.2s;
}
.shop-tab.active { background: var(--primary); color: white; }

.shop-category {
  margin-bottom: 16px;
  animation: slideUp 0.4s ease;
}
.shop-cat-header {
  display: flex; align-items: center; gap: 8px;
  margin-bottom: 8px;
}
.shop-cat-dot {
  width: 10px; height: 10px; border-radius: 50%;
}
.shop-cat-name { font-size: 16px; font-weight: 700; }
.shop-cat-count { font-size: 13px; color: var(--text3); }

.shop-item {
  display: flex; align-items: center;
  padding: 10px 4px;
  border-bottom: 1px solid var(--divider);
  gap: 10px;
}
.shop-checkbox {
  width: 26px; height: 26px;
  border: 2.5px solid var(--primary);
  border-radius: 6px;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: all 0.2s;
  flex-shrink: 0;
}
.shop-checkbox.checked {
  background: var(--primary);
  border-color: var(--primary);
}
.shop-checkbox.checked::after {
  content: 'âœ“';
  color: white;
  font-size: 16px;
  font-weight: 700;
}
.shop-item-name {
  flex: 1;
  font-size: 17px;
  font-weight: 500;
  transition: all 0.2s;
}
.shop-item-name.checked {
  text-decoration: line-through;
  color: var(--text3);
}
.shop-item-pantry {
  font-size: 12px;
  color: var(--text3);
}
.shop-item-qty {
  padding: 5px 12px;
  border-radius: 8px;
  font-size: 15px;
  font-weight: 700;
}

/* â”€â”€ Recipe Detail Modal â”€â”€ */
.modal-overlay {
  display: none;
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.5);
  z-index: 200;
  animation: fadeIn 0.2s;
}
.modal-overlay.active { display: block; }

.modal-content {
  position: absolute;
  top: 50px; left: 0; right: 0; bottom: 0;
  background: var(--bg);
  border-radius: 24px 24px 0 0;
  overflow-y: auto;
  animation: slideUp 0.3s ease;
}

.modal-header {
  background: var(--primary);
  color: white;
  padding: 20px;
  display: flex;
  align-items: center;
  gap: 12px;
  position: sticky;
  top: 0;
  z-index: 10;
}
.modal-close {
  background: rgba(255,255,255,0.2);
  border: none;
  color: white;
  width: 36px; height: 36px;
  border-radius: 50%;
  font-size: 20px;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
}
.modal-title { font-size: 20px; font-weight: 700; flex: 1; }

.modal-summary {
  display: flex;
  justify-content: space-around;
  padding: 18px;
  background: rgba(46,125,50,0.04);
}
.modal-stat { text-align: center; }
.modal-stat .val { font-size: 18px; font-weight: 700; color: var(--accent); }
.modal-stat .label { font-size: 13px; color: var(--text3); margin-top: 2px; }

.modal-tabs {
  display: flex; border-bottom: 2px solid var(--divider);
  position: sticky; top: 76px; background: white; z-index: 5;
}
.modal-tab {
  flex: 1; padding: 14px; text-align: center;
  font-size: 16px; font-weight: 600;
  border: none; background: none; cursor: pointer;
  color: var(--text3); font-family: inherit;
  border-bottom: 3px solid transparent;
  transition: all 0.2s;
}
.modal-tab.active { color: var(--primary); border-bottom-color: var(--primary); }

.modal-body { padding: 20px; }

/* Step navigator */
.step-nav {
  text-align: center;
  padding: 40px 20px;
}
.step-num {
  width: 56px; height: 56px;
  background: var(--primary);
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 24px;
}
.step-text {
  font-size: 22px;
  font-weight: 500;
  line-height: 1.6;
  color: var(--text);
  margin-bottom: 16px;
}
.step-indicator {
  font-size: 15px;
  color: var(--text3);
  margin-bottom: 32px;
}
.step-btns {
  display: flex; gap: 12px;
}
.step-btns button {
  flex: 1; height: 56px;
  border-radius: 14px;
  font-size: 18px;
  font-weight: 700;
  cursor: pointer;
  font-family: inherit;
  transition: all 0.2s;
}
.step-prev {
  background: white; border: 2px solid var(--divider); color: var(--text2);
}
.step-next {
  background: var(--primary); border: none; color: white;
}
.step-prev:disabled, .step-next:disabled { opacity: 0.3; }

/* Ingredient list */
.ing-row {
  display: flex; align-items: center; padding: 12px 0;
  border-bottom: 1px solid var(--divider);
}
.ing-bar {
  width: 6px; height: 36px; border-radius: 3px; margin-right: 12px;
}
.ing-name { flex: 1; font-size: 17px; font-weight: 500; }
.ing-qty { font-size: 17px; font-weight: 700; }

/* Nutrition bars */
.nut-big {
  text-align: center;
  padding: 24px;
  background: rgba(255,143,0,0.08);
  border-radius: var(--radius);
  margin-bottom: 24px;
}
.nut-big .label { font-size: 15px; color: var(--text2); }
.nut-big .value { font-size: 36px; font-weight: 900; color: var(--accent); }

.nut-bar-row {
  display: flex; align-items: center; gap: 12px; margin-bottom: 16px;
}
.nut-bar-label { width: 80px; font-size: 15px; }
.nut-bar-track {
  flex: 1; height: 22px;
  background: #eee; border-radius: 11px;
  overflow: hidden;
}
.nut-bar-fill { height: 100%; border-radius: 11px; transition: width 0.8s ease; }
.nut-bar-value { width: 80px; text-align: right; font-size: 15px; font-weight: 700; }

/* â”€â”€ Settings Modal â”€â”€ */
.settings-overlay {
  display: none;
  position: absolute;
  bottom: 0; left: 0; right: 0;
  z-index: 300;
}
.settings-overlay.active { display: block; }

.settings-backdrop {
  position: absolute;
  top: -844px; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.4);
}

.settings-sheet {
  position: absolute;
  bottom: 0; left: 0; right: 0;
  background: white;
  border-radius: 24px 24px 0 0;
  padding: 24px;
  animation: slideUp 0.3s ease;
  max-height: 60%;
  overflow-y: auto;
}

.settings-title { font-size: 22px; font-weight: 900; margin-bottom: 20px; }
.settings-row {
  display: flex; padding: 10px 0;
}
.settings-label { width: 120px; font-size: 15px; color: var(--text2); }
.settings-value { flex: 1; font-size: 17px; font-weight: 600; }

.settings-regen {
  width: 100%;
  height: 52px;
  background: var(--primary);
  color: white;
  border: none;
  border-radius: 14px;
  font-size: 17px;
  font-weight: 700;
  cursor: pointer;
  font-family: inherit;
  margin-top: 20px;
  display: flex; align-items: center; justify-content: center; gap: 8px;
}

.app-version {
  text-align: center;
  font-size: 13px;
  color: var(--text3);
  margin-top: 16px;
  line-height: 1.6;
}

/* â”€â”€ Toast â”€â”€ */
.toast {
  position: absolute;
  bottom: 88px;
  left: 50%; transform: translateX(-50%);
  background: #333;
  color: white;
  padding: 12px 24px;
  border-radius: 12px;
  font-size: 15px;
  font-weight: 600;
  z-index: 500;
  animation: toastIn 0.3s ease, toastOut 0.3s ease 1.5s forwards;
  white-space: nowrap;
}
@keyframes toastIn { from { opacity: 0; transform: translateX(-50%) translateY(20px); } }
@keyframes toastOut { to { opacity: 0; transform: translateX(-50%) translateY(20px); } }

/* External label */
.proto-label {
  position: fixed;
  top: 20px; left: 50%;
  transform: translateX(-50%);
  color: rgba(255,255,255,0.5);
  font-family: 'Noto Sans KR', sans-serif;
  font-size: 13px;
  letter-spacing: 2px;
  text-transform: uppercase;
}
</style>
</head>
<body>

<div class="proto-label">ì‹ë‹¨ í”Œë˜ë„ˆ UI PROTOTYPE</div>

<div class="phone-frame" id="app">
  <!-- Status Bar -->
  <div class="status-bar">
    <span>9:41</span>
    <span>ğŸ“¶ ğŸ”‹ 92%</span>
  </div>

  <!-- App Bar -->
  <div class="app-bar">
    <span id="appBarTitle">ì˜¤ëŠ˜ ì‹ë‹¨</span>
    <button class="settings-btn" onclick="toggleSettings()" id="settingsBtn">âš™ï¸</button>
  </div>

  <!-- Content -->
  <div class="content-area" id="contentArea">
    <!-- TODAY TAB -->
    <div class="tab-screen active" id="todayTab">
      <div class="date-header">
        <span class="icon">ğŸ“…</span>
        <span class="text">ì˜¤ëŠ˜  2ì›” 10ì¼ (í™”)</span>
      </div>

      <div class="kcal-summary">
        <span class="fire">ğŸ”¥</span>
        <div class="info">
          <div class="current" style="color:var(--kcal-good)">ì˜¤ëŠ˜ ì˜ˆìƒ 1,362 kcal</div>
          <div class="target">ê¶Œì¥ 1,508 kcal</div>
        </div>
        <div class="kcal-ring">
          <svg width="60" height="60" viewBox="0 0 60 60">
            <circle cx="30" cy="30" r="24" fill="none" stroke="#eee" stroke-width="6"/>
            <circle cx="30" cy="30" r="24" fill="none" stroke="var(--kcal-good)" stroke-width="6"
              stroke-dasharray="150.8" stroke-dashoffset="15" stroke-linecap="round"/>
          </svg>
          <span class="pct" style="color:var(--kcal-good)">90%</span>
        </div>
      </div>

      <!-- Breakfast -->
      <div class="meal-card" onclick="openRecipe('ë‹¬ê±€ì£½','BREAKFAST')">
        <div class="meal-label">ğŸŒ… ì•„ì¹¨</div>
        <div class="meal-title">ë‹¬ê±€ì£½</div>
        <div class="meal-meta">
          <span>ğŸ”¥ 207 kcal</span>
          <span>â±ï¸ 15ë¶„</span>
          <span>ë‚œì´ë„ â—â—‹â—‹</span>
        </div>
        <div class="meal-btns">
          <button class="btn-outline" onclick="event.stopPropagation(); openRecipe('ë‹¬ê±€ì£½','BREAKFAST')">ğŸ³ ì¡°ë¦¬ìˆœì„œ</button>
          <button class="btn-secondary" onclick="event.stopPropagation(); replaceMeal('ì•„ì¹¨')">ğŸ”„ ë©”ë‰´ ë³€ê²½</button>
        </div>
      </div>

      <!-- Lunch -->
      <div class="meal-card" onclick="openRecipe('ê¹€ì¹˜ì°Œê°œ','LUNCH')">
        <div class="meal-label">â˜€ï¸ ì ì‹¬</div>
        <div class="meal-title">ê¹€ì¹˜ì°Œê°œ</div>
        <div class="meal-meta">
          <span>ğŸ”¥ 610 kcal</span>
          <span>â±ï¸ 25ë¶„</span>
          <span>ë‚œì´ë„ â—â—â—‹</span>
        </div>
        <div class="meal-btns">
          <button class="btn-outline" onclick="event.stopPropagation(); openRecipe('ê¹€ì¹˜ì°Œê°œ','LUNCH')">ğŸ³ ì¡°ë¦¬ìˆœì„œ</button>
          <button class="btn-secondary" onclick="event.stopPropagation(); replaceMeal('ì ì‹¬')">ğŸ”„ ë©”ë‰´ ë³€ê²½</button>
        </div>
      </div>

      <!-- Dinner -->
      <div class="meal-card" onclick="openRecipe('ì¡ì±„','DINNER')">
        <div class="meal-label">ğŸŒ™ ì €ë…</div>
        <div class="meal-title">ì¡ì±„</div>
        <div class="meal-meta">
          <span>ğŸ”¥ 545 kcal</span>
          <span>â±ï¸ 30ë¶„</span>
          <span>ë‚œì´ë„ â—â—â—‹</span>
        </div>
        <div class="meal-btns">
          <button class="btn-outline" onclick="event.stopPropagation(); openRecipe('ì¡ì±„','DINNER')">ğŸ³ ì¡°ë¦¬ìˆœì„œ</button>
          <button class="btn-secondary" onclick="event.stopPropagation(); replaceMeal('ì €ë…')">ğŸ”„ ë©”ë‰´ ë³€ê²½</button>
        </div>
      </div>
    </div>

    <!-- WEEKLY TAB -->
    <div class="tab-screen" id="weeklyTab"></div>

    <!-- SHOPPING TAB -->
    <div class="tab-screen" id="shoppingTab"></div>
  </div>

  <!-- Recipe Modal -->
  <div class="modal-overlay" id="recipeModal">
    <div class="modal-content">
      <div class="modal-header">
        <button class="modal-close" onclick="closeRecipe()">âœ•</button>
        <span class="modal-title" id="modalTitle">ë ˆì‹œí”¼</span>
      </div>
      <div class="modal-summary" id="modalSummary"></div>
      <div class="modal-tabs">
        <button class="modal-tab active" onclick="switchModalTab(0, this)">ì¡°ë¦¬ìˆœì„œ</button>
        <button class="modal-tab" onclick="switchModalTab(1, this)">ì¬ë£Œ</button>
        <button class="modal-tab" onclick="switchModalTab(2, this)">ì˜ì–‘ì •ë³´</button>
      </div>
      <div class="modal-body" id="modalBody"></div>
    </div>
  </div>

  <!-- Settings Sheet -->
  <div class="settings-overlay" id="settingsOverlay">
    <div class="settings-backdrop" onclick="toggleSettings()"></div>
    <div class="settings-sheet">
      <div class="settings-title">âš™ï¸ ì„¤ì •</div>
      <div class="settings-row"><span class="settings-label">ì´ë¦„</span><span class="settings-value">í™ê¸¸ë™</span></div>
      <div class="settings-row"><span class="settings-label">ì„±ë³„</span><span class="settings-value">ì—¬ì„±</span></div>
      <div class="settings-row"><span class="settings-label">ì¶œìƒì—°ë„</span><span class="settings-value">1960ë…„</span></div>
      <div class="settings-row"><span class="settings-label">í‚¤ / ëª¸ë¬´ê²Œ</span><span class="settings-value">158cm / 60kg</span></div>
      <div class="settings-row"><span class="settings-label">í™œë™ëŸ‰</span><span class="settings-value">2 / 5 (ê°€ë²¼ìš´ í™œë™)</span></div>
      <div class="settings-row"><span class="settings-label">ì¼ì¼ ê¶Œì¥</span><span class="settings-value" style="color:var(--primary);font-weight:700">1,508 kcal</span></div>
      <button class="settings-regen" onclick="toggleSettings(); showToast('ğŸ”„ ì´ë²ˆ ì£¼ ë©”ë‰´ë¥¼ ìƒˆë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤')">ğŸ”„ ì´ë²ˆ ì£¼ ë©”ë‰´ ìƒˆë¡œ ë§Œë“¤ê¸°</button>
      <div class="app-version">ì‹ë‹¨ í”Œë˜ë„ˆ v1.0<br>50~70ëŒ€ë¥¼ ìœ„í•œ ê±´ê°•í•œ ì‹ë‹¨ ê´€ë¦¬</div>
    </div>
  </div>

  <!-- Bottom Nav -->
  <div class="bottom-nav">
    <button class="nav-item active" onclick="switchTab(0)" id="nav0">
      <span class="nav-icon">ğŸ½ï¸</span>
      <span class="nav-label">ì˜¤ëŠ˜</span>
    </button>
    <button class="nav-item" onclick="switchTab(1)" id="nav1">
      <span class="nav-icon">ğŸ“…</span>
      <span class="nav-label">ì£¼ê°„</span>
    </button>
    <button class="nav-item" onclick="switchTab(2)" id="nav2">
      <span class="nav-icon">ğŸ›’</span>
      <span class="nav-label">ì¥ë³´ê¸°</span>
    </button>
  </div>
</div>

<script>
// â”€â”€â”€ DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const weeklyData = [
  { day: 'ì›”', date: '2/9', today: false, weekend: false, meals: [
    { type: 'ğŸŒ…', label: 'ì•„ì¹¨', name: 'í† ìŠ¤íŠ¸ + ìš°ìœ ', cuisine: 'ììœ ', kcal: 281 },
    { type: 'â˜€ï¸', label: 'ì ì‹¬', name: 'ë‹­ë³¶ìŒíƒ•', cuisine: 'í•œ', kcal: 545 },
    { type: 'ğŸŒ™', label: 'ì €ë…', name: 'ì½©ë‚˜ë¬¼êµ­ + ë°¥', cuisine: 'í•œ', kcal: 428 },
  ]},
  { day: 'í™”', date: '2/10', today: true, weekend: false, meals: [
    { type: 'ğŸŒ…', label: 'ì•„ì¹¨', name: 'ë‹¬ê±€ì£½', cuisine: 'í•œ', kcal: 207 },
    { type: 'â˜€ï¸', label: 'ì ì‹¬', name: 'ê¹€ì¹˜ì°Œê°œ + ë°¥', cuisine: 'í•œ', kcal: 610 },
    { type: 'ğŸŒ™', label: 'ì €ë…', name: 'ì¡ì±„ + ë°¥', cuisine: 'í•œ', kcal: 545 },
  ]},
  { day: 'ìˆ˜', date: '2/11', today: false, weekend: false, meals: [
    { type: 'ğŸŒ…', label: 'ì•„ì¹¨', name: 'ì‹œê¸ˆì¹˜ ëœì¥êµ­ + ë°¥', cuisine: 'í•œ', kcal: 666 },
    { type: 'â˜€ï¸', label: 'ì ì‹¬', name: 'ë‘ë¶€ ì¡°ë¦¼ + ë°¥', cuisine: 'í•œ', kcal: 530 },
    { type: 'ğŸŒ™', label: 'ì €ë…', name: 'ì†Œê³ ê¸° ë¬´êµ­ + ë°¥', cuisine: 'í•œ', kcal: 516 },
  ]},
  { day: 'ëª©', date: '2/12', today: false, weekend: false, meals: [
    { type: 'ğŸŒ…', label: 'ì•„ì¹¨', name: 'ë‹¬ê±€ì£½', cuisine: 'í•œ', kcal: 207 },
    { type: 'â˜€ï¸', label: 'ì ì‹¬', name: 'ì œìœ¡ë³¶ìŒ + ë°¥', cuisine: 'í•œ', kcal: 621 },
    { type: 'ğŸŒ™', label: 'ì €ë…', name: 'ê³ ë“±ì–´ êµ¬ì´ + ë°¥', cuisine: 'í•œ', kcal: 574 },
  ]},
  { day: 'ê¸ˆ', date: '2/13', today: false, weekend: false, meals: [
    { type: 'ğŸŒ…', label: 'ì•„ì¹¨', name: 'ì½©ë‚˜ë¬¼êµ­ë°¥', cuisine: 'í•œ', kcal: 559 },
    { type: 'â˜€ï¸', label: 'ì ì‹¬', name: 'ê°ìì¡°ë¦¼ + ë°¥', cuisine: 'í•œ', kcal: 537 },
    { type: 'ğŸŒ™', label: 'ì €ë…', name: 'ì• í˜¸ë°• ëœì¥ì°Œê°œ + ë°¥', cuisine: 'í•œ', kcal: 470 },
  ]},
  { day: 'í† ', date: '2/14', today: false, weekend: true, meals: [
    { type: 'ğŸŒ…', label: 'ì•„ì¹¨', name: 'ê³„ë€í›„ë¼ì´ + ë°¥', cuisine: 'í•œ', kcal: 518 },
    { type: 'â˜€ï¸', label: 'ì ì‹¬', name: 'ìƒˆìš°ë³¶ìŒë°¥', cuisine: 'ììœ ', kcal: 472 },
    { type: 'ğŸŒ™', label: 'ì €ë…', name: 'ê¹€ì¹˜ë³¶ìŒë°¥', cuisine: 'ììœ ', kcal: 457 },
  ]},
  { day: 'ì¼', date: '2/15', today: false, weekend: true, meals: [
    { type: 'ğŸŒ…', label: 'ì•„ì¹¨', name: 'ëˆ„ë£½ì§€', cuisine: 'í•œ', kcal: 149 },
    { type: 'â˜€ï¸', label: 'ì ì‹¬', name: 'ì†Œê³ ê¸° ë¯¸ì—­êµ­ + ë°¥', cuisine: 'í•œ', kcal: 498 },
    { type: 'ğŸŒ™', label: 'ì €ë…', name: 'ëœì¥ì°Œê°œ + ë°¥', cuisine: 'í•œ', kcal: 516 },
  ]},
];

const shoppingData = {
  'ì±„ì†Œ': { color: 'var(--cat-veg)', items: [
    { name: 'ë°°ì¶”ê¹€ì¹˜', qty: '350g', checked: false },
    { name: 'ëŒ€íŒŒ', qty: '175g', checked: false },
    { name: 'ì–‘íŒŒ', qty: '350g', checked: true },
    { name: 'ì• í˜¸ë°•', qty: '250g', checked: false },
    { name: 'ê°ì', qty: '530g', checked: false },
    { name: 'ì‹œê¸ˆì¹˜', qty: '100g', checked: false },
    { name: 'ì½©ë‚˜ë¬¼', qty: '300g', checked: false },
    { name: 'ë‘ë¶€', qty: '650g', checked: false },
    { name: 'ë‹¹ê·¼', qty: '160g', checked: true },
    { name: 'ë¬´', qty: '350g', checked: false },
  ]},
  'ìœ¡ë¥˜': { color: 'var(--cat-meat)', items: [
    { name: 'ë¼ì§€ê³ ê¸°', qty: '350g', checked: false },
    { name: 'ì†Œê³ ê¸°', qty: '400g', checked: false },
    { name: 'ë‹­ê³ ê¸°', qty: '300g', checked: false },
  ]},
  'í•´ì‚°ë¬¼': { color: 'var(--cat-fish)', items: [
    { name: 'ê³ ë“±ì–´', qty: '300g', checked: false },
    { name: 'ìƒˆìš°', qty: '80g', checked: false },
  ]},
  'ê³¡ë¥˜': { color: 'var(--cat-grain)', items: [
    { name: 'ìŒ€', qty: '2.5kg', checked: true },
    { name: 'ë–¡', qty: '300g', checked: false },
    { name: 'ë¹µ(ì‹ë¹µ)', qty: '60g', checked: false },
  ]},
  'ìœ ì œí’ˆ': { color: 'var(--cat-dairy)', items: [
    { name: 'ìš°ìœ ', qty: '200ml', checked: false },
  ]},
  'ì–‘ë…': { color: 'var(--cat-sauce)', items: [
    { name: 'ê°„ì¥', qty: '120ml', pantry: true, checked: true },
    { name: 'ëœì¥', qty: '45g', pantry: true, checked: true },
    { name: 'ê³ ì¶”ì¥', qty: '45g', pantry: true, checked: true },
    { name: 'ê³ ì¶§ê°€ë£¨', qty: '10g', pantry: true, checked: true },
    { name: 'ì†Œê¸ˆ', qty: '4g', pantry: true, checked: true },
    { name: 'ì„¤íƒ•', qty: '30g', pantry: true, checked: true },
    { name: 'ë‹¬ê±€', qty: '11ê°œ', checked: false },
  ]},
};

const recipes = {
  'ë‹¬ê±€ì£½': {
    kcal: 207, time: 15, diff: 1, servings: 1,
    macros: { carb: 27.7, protein: 9.5, fat: 6.2, sodium: 84 },
    ingredients: [
      { name: 'ìŒ€', qty: '80g', cat: 'ê³¡ë¥˜' },
      { name: 'ë‹¬ê±€', qty: '1ê°œ', cat: 'ê¸°íƒ€' },
      { name: 'ì†Œê¸ˆ', qty: '1g', cat: 'ì–‘ë…' },
    ],
    steps: ['ìŒ€ì„ ë¬¼ì— 30ë¶„ ë¶ˆë¦°ë‹¤', 'ëƒ„ë¹„ì— ìŒ€ê³¼ ë¬¼(3ë°°)ì„ ë„£ê³  ì•½ë¶ˆì— ë“ì¸ë‹¤', 'í’€ì–´ë‘” ë‹¬ê±€ì„ ë„£ê³  ì €ì–´ ì™„ì„±']
  },
  'ê¹€ì¹˜ì°Œê°œ': {
    kcal: 610, time: 25, diff: 2, servings: 2,
    macros: { carb: 52.0, protein: 28.5, fat: 15.3, sodium: 1850 },
    ingredients: [
      { name: 'ë¼ì§€ê³ ê¸°', qty: '150g', cat: 'ìœ¡ë¥˜' },
      { name: 'ë°°ì¶”ê¹€ì¹˜', qty: '200g', cat: 'ì±„ì†Œ' },
      { name: 'ë‘ë¶€', qty: '150g', cat: 'ì±„ì†Œ' },
      { name: 'ëŒ€íŒŒ', qty: '30g', cat: 'ì±„ì†Œ' },
      { name: 'ë°¥', qty: '200g', cat: 'ê³¡ë¥˜' },
    ],
    steps: ['ë¼ì§€ê³ ê¸°ë¥¼ í•œì… í¬ê¸°ë¡œ ì°ì–´ íŒ¬ì— ë³¶ëŠ”ë‹¤', 'ì˜ ìµì€ ê¹€ì¹˜ë¥¼ ë„£ê³  í•¨ê»˜ ë³¶ëŠ”ë‹¤', 'ë¬¼ 400mlë¥¼ ë„£ê³  ì„¼ ë¶ˆì— ë“ì¸ë‹¤', 'ë‘ë¶€ë¥¼ í¼ì§í•˜ê²Œ ì°ì–´ ë„£ëŠ”ë‹¤', 'ëŒ€íŒŒë¥¼ ë„£ê³  2ë¶„ ë” ë“ì—¬ ì™„ì„±']
  },
  'ì¡ì±„': {
    kcal: 545, time: 30, diff: 2, servings: 2,
    macros: { carb: 68.0, protein: 8.5, fat: 12.0, sodium: 920 },
    ingredients: [
      { name: 'ë‹¹ë©´', qty: '100g', cat: 'ê³¡ë¥˜' },
      { name: 'ì‹œê¸ˆì¹˜', qty: '50g', cat: 'ì±„ì†Œ' },
      { name: 'ë‹¹ê·¼', qty: '50g', cat: 'ì±„ì†Œ' },
      { name: 'ì–‘íŒŒ', qty: '80g', cat: 'ì±„ì†Œ' },
      { name: 'ë²„ì„¯', qty: '50g', cat: 'ì±„ì†Œ' },
      { name: 'ë°¥', qty: '200g', cat: 'ê³¡ë¥˜' },
    ],
    steps: ['ë‹¹ë©´ì„ ë“ëŠ” ë¬¼ì— 6ë¶„ ì‚¶ì•„ ê±´ì§„ë‹¤', 'ì‹œê¸ˆì¹˜ë¥¼ ë°ì³ ì°¸ê¸°ë¦„ìœ¼ë¡œ ë¬´ì¹œë‹¤', 'ë‹¹ê·¼, ì–‘íŒŒ, ë²„ì„¯ì„ ê°ê° ë³¶ëŠ”ë‹¤', 'ëª¨ë“  ì¬ë£Œë¥¼ í° ë³¼ì— ë„£ê³  ê°„ì¥+ì°¸ê¸°ë¦„ìœ¼ë¡œ ë²„ë¬´ë¦°ë‹¤', 'ë°¥ê³¼ í•¨ê»˜ ì ‘ì‹œì— ë‹´ì•„ ì™„ì„±']
  },
};

// â”€â”€â”€ TAB SWITCHING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let currentTab = 0;

function switchTab(index) {
  currentTab = index;
  document.querySelectorAll('.tab-screen').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));

  const tabs = ['todayTab', 'weeklyTab', 'shoppingTab'];
  const titles = ['ì˜¤ëŠ˜ ì‹ë‹¨', 'ì£¼ê°„ ë©”ë‰´', 'ì¥ë³´ê¸°'];

  document.getElementById(tabs[index]).classList.add('active');
  document.getElementById(`nav${index}`).classList.add('active');
  document.getElementById('appBarTitle').textContent = titles[index];
  document.getElementById('settingsBtn').style.display = index === 0 ? '' : 'none';

  if (index === 1) renderWeekly();
  if (index === 2) renderShopping();

  document.getElementById('contentArea').scrollTop = 0;
}

// â”€â”€â”€ WEEKLY RENDER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderWeekly() {
  const el = document.getElementById('weeklyTab');
  const totalKcal = weeklyData.reduce((s, d) => s + d.meals.reduce((ss, m) => ss + m.kcal, 0), 0);

  let html = `
    <div class="week-header">
      <span class="icon">ğŸ“…</span>
      <div>
        <div class="title">2026-02-09 ì£¼ê°„ ë©”ë‰´</div>
        <div class="sub">ë¡œí…Œì´ì…˜ B | ì´ ${totalKcal.toLocaleString()} kcal</div>
      </div>
    </div>
  `;

  weeklyData.forEach((day, i) => {
    const dayKcal = day.meals.reduce((s, m) => s + m.kcal, 0);
    const badgeClass = day.today ? 'today-badge' : day.weekend ? 'weekend' : 'weekday';

    html += `
      <div class="day-card ${day.today ? 'today' : ''}" style="animation-delay:${i * 0.04}s">
        <div class="day-header">
          <span class="day-badge ${badgeClass}">${day.day}ìš”ì¼</span>
          ${day.today ? '<span class="day-today-label">ì˜¤ëŠ˜</span>' : ''}
          <span class="day-kcal">${dayKcal.toLocaleString()} kcal</span>
        </div>
        <div class="day-meals">
          ${day.meals.map(m => `
            <div class="day-meal-row" onclick="openRecipe('${m.name.split('+')[0].trim()}','${m.type}')">
              <span class="day-meal-icon">${m.type}</span>
              <span class="day-meal-type">${m.label}</span>
              <span class="day-meal-name">${m.name}</span>
              <span class="day-meal-kcal">${m.kcal} kcal</span>
              <button class="day-meal-swap" onclick="event.stopPropagation(); replaceMeal('${m.label}')">ğŸ”„</button>
            </div>
          `).join('')}
        </div>
      </div>
    `;
  });

  el.innerHTML = html;
}

// â”€â”€â”€ SHOPPING RENDER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let hideChecked = false;
let shopFilter = 'ì „ì²´';

function renderShopping() {
  const el = document.getElementById('shoppingTab');
  const allItems = Object.values(shoppingData).flatMap(c => c.items);
  const total = allItems.length;
  const checked = allItems.filter(i => i.checked).length;

  const cats = ['ì „ì²´', ...Object.keys(shoppingData)];

  let html = `
    <div class="shop-summary">
      <span class="icon">ğŸ›’</span>
      <span class="text">ì´ë²ˆ ì£¼ ì¥ë³´ê¸° (${checked}/${total})</span>
      <button class="toggle-btn" onclick="hideChecked=!hideChecked; renderShopping()">
        ${hideChecked ? 'ğŸ‘ï¸ ì „ì²´ ë³´ê¸°' : 'âœ… ì™„ë£Œ ìˆ¨ê¸°ê¸°'}
      </button>
    </div>
    <div class="shop-tabs">
      ${cats.map(c => `<button class="shop-tab ${c === shopFilter ? 'active' : ''}" onclick="shopFilter='${c}'; renderShopping()">${c}</button>`).join('')}
    </div>
  `;

  const catsToShow = shopFilter === 'ì „ì²´' ? Object.keys(shoppingData) : [shopFilter];

  catsToShow.forEach(cat => {
    if (!shoppingData[cat]) return;
    const { color, items } = shoppingData[cat];
    const filtered = hideChecked ? items.filter(i => !i.checked) : items;
    if (filtered.length === 0) return;

    html += `
      <div class="shop-category">
        <div class="shop-cat-header">
          <span class="shop-cat-dot" style="background:${color}"></span>
          <span class="shop-cat-name">${cat}</span>
          <span class="shop-cat-count">${filtered.length}ê°œ</span>
        </div>
        ${filtered.map((item, idx) => `
          <div class="shop-item">
            <div class="shop-checkbox ${item.checked ? 'checked' : ''}"
              onclick="toggleShopItem('${cat}', ${items.indexOf(item)})"></div>
            <div>
              <div class="shop-item-name ${item.checked ? 'checked' : ''}">${item.name}</div>
              ${item.pantry ? '<div class="shop-item-pantry">ğŸ  ìƒë¹„ ì¬ë£Œ</div>' : ''}
            </div>
            <span class="shop-item-qty" style="background:${color}15; color:${color}">${item.qty}</span>
          </div>
        `).join('')}
      </div>
    `;
  });

  el.innerHTML = html;
}

function toggleShopItem(cat, idx) {
  shoppingData[cat].items[idx].checked = !shoppingData[cat].items[idx].checked;
  renderShopping();
}

// â”€â”€â”€ RECIPE MODAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let currentRecipe = null;
let currentStep = 0;
let currentModalTab = 0;

function openRecipe(name, mealType) {
  const key = Object.keys(recipes).find(k => name.includes(k));
  currentRecipe = key ? { name: key, ...recipes[key] } : null;
  if (!currentRecipe) {
    showToast(`ğŸ“– "${name}" ë ˆì‹œí”¼ ì¤€ë¹„ ì¤‘`);
    return;
  }

  currentStep = 0;
  currentModalTab = 0;

  document.getElementById('modalTitle').textContent = currentRecipe.name;
  document.getElementById('modalSummary').innerHTML = `
    <div class="modal-stat"><div class="val">ğŸ”¥ ${currentRecipe.kcal}</div><div class="label">kcal</div></div>
    <div class="modal-stat"><div class="val">â±ï¸ ${currentRecipe.time}</div><div class="label">ë¶„</div></div>
    <div class="modal-stat"><div class="val">${'â—'.repeat(currentRecipe.diff)}${'â—‹'.repeat(3-currentRecipe.diff)}</div><div class="label">ë‚œì´ë„</div></div>
    <div class="modal-stat"><div class="val">ğŸ‘¤ ${currentRecipe.servings}</div><div class="label">ì¸ë¶„</div></div>
  `;

  document.querySelectorAll('.modal-tab').forEach((t, i) => t.classList.toggle('active', i === 0));
  renderModalContent(0);
  document.getElementById('recipeModal').classList.add('active');
}

function closeRecipe() {
  document.getElementById('recipeModal').classList.remove('active');
}

function switchModalTab(idx, el) {
  currentModalTab = idx;
  document.querySelectorAll('.modal-tab').forEach(t => t.classList.remove('active'));
  el.classList.add('active');
  renderModalContent(idx);
}

function renderModalContent(tab) {
  const body = document.getElementById('modalBody');
  if (!currentRecipe) return;

  if (tab === 0) {
    // Steps
    const steps = currentRecipe.steps;
    body.innerHTML = `
      <div class="step-nav">
        <div class="step-num">${currentStep + 1}</div>
        <div class="step-text">${steps[currentStep]}</div>
        <div class="step-indicator">${currentStep + 1} / ${steps.length}</div>
        <div class="step-btns">
          <button class="step-prev" ${currentStep === 0 ? 'disabled' : ''} onclick="currentStep--; renderModalContent(0)">â† ì´ì „</button>
          <button class="step-next" ${currentStep >= steps.length-1 ? 'disabled' : ''} onclick="currentStep++; renderModalContent(0)">ë‹¤ìŒ â†’</button>
        </div>
      </div>
    `;
  } else if (tab === 1) {
    // Ingredients
    const catColors = { 'ê³¡ë¥˜': 'var(--cat-grain)', 'ì±„ì†Œ': 'var(--cat-veg)', 'ìœ¡ë¥˜': 'var(--cat-meat)', 'í•´ì‚°ë¬¼': 'var(--cat-fish)', 'ì–‘ë…': 'var(--cat-sauce)', 'ìœ ì œí’ˆ': 'var(--cat-dairy)', 'ê¸°íƒ€': '#78909C' };
    body.innerHTML = currentRecipe.ingredients.map(i => `
      <div class="ing-row">
        <div class="ing-bar" style="background:${catColors[i.cat] || '#999'}"></div>
        <span class="ing-name">${i.name}</span>
        <span class="ing-qty">${i.qty}</span>
      </div>
    `).join('');
  } else {
    // Nutrition
    const m = currentRecipe.macros;
    body.innerHTML = `
      <div class="nut-big">
        <div class="label">1ì¸ë¶„ ê¸°ì¤€</div>
        <div class="value">${currentRecipe.kcal} kcal</div>
      </div>
      <div class="nut-bar-row">
        <span class="nut-bar-label">íƒ„ìˆ˜í™”ë¬¼</span>
        <div class="nut-bar-track"><div class="nut-bar-fill" style="width:${Math.min(m.carb/1.5, 100)}%; background:#FFB300;"></div></div>
        <span class="nut-bar-value">${m.carb} g</span>
      </div>
      <div class="nut-bar-row">
        <span class="nut-bar-label">ë‹¨ë°±ì§ˆ</span>
        <div class="nut-bar-track"><div class="nut-bar-fill" style="width:${Math.min(m.protein*2, 100)}%; background:#EF5350;"></div></div>
        <span class="nut-bar-value">${m.protein} g</span>
      </div>
      <div class="nut-bar-row">
        <span class="nut-bar-label">ì§€ë°©</span>
        <div class="nut-bar-track"><div class="nut-bar-fill" style="width:${Math.min(m.fat*2, 100)}%; background:#42A5F5;"></div></div>
        <span class="nut-bar-value">${m.fat} g</span>
      </div>
      <div class="nut-bar-row">
        <span class="nut-bar-label">ë‚˜íŠ¸ë¥¨</span>
        <div class="nut-bar-track"><div class="nut-bar-fill" style="width:${Math.min(m.sodium/30, 100)}%; background:#AB47BC;"></div></div>
        <span class="nut-bar-value">${m.sodium} mg</span>
      </div>
    `;

    setTimeout(() => {
      body.querySelectorAll('.nut-bar-fill').forEach(el => el.style.width = el.style.width);
    }, 50);
  }
}

// â”€â”€â”€ SETTINGS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function toggleSettings() {
  document.getElementById('settingsOverlay').classList.toggle('active');
}

// â”€â”€â”€ REPLACE MEAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const altMenus = ['ëœì¥ì°Œê°œ', 'ë¶ˆê³ ê¸°', 'ë‘ë¶€ ì¡°ë¦¼', 'ë¹„ë¹”ë°¥', 'ì˜¤ì§•ì–´ë³¶ìŒ', 'ê°ˆì¹˜ ì¡°ë¦¼', 'ì†Œê³ ê¸° ë¬´êµ­'];

function replaceMeal(label) {
  const newMenu = altMenus[Math.floor(Math.random() * altMenus.length)];
  showToast(`ğŸ”„ ${label} â†’ ${newMenu} ìœ¼ë¡œ ë³€ê²½!`);
}

// â”€â”€â”€ TOAST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showToast(msg) {
  const existing = document.querySelector('.toast');
  if (existing) existing.remove();

  const toast = document.createElement('div');
  toast.className = 'toast';
  toast.textContent = msg;
  document.getElementById('app').appendChild(toast);
  setTimeout(() => toast.remove(), 2000);
}

// Init
renderWeekly();
renderShopping();
</script>
</body>
</html>
